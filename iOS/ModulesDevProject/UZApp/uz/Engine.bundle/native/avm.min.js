var avm=function(){function asap(t){setTimeout(t,0)}function noop(){}var LAST_ERROR=null,IS_ERROR={};function getThen(t){try{return t.then}catch(t){LAST_ERROR=t;return IS_ERROR}}function tryCallOne(t,e){try{return t(e)}catch(t){LAST_ERROR=t;return IS_ERROR}}function tryCallTwo(t,e,n){try{t(e,n)}catch(t){LAST_ERROR=t;return IS_ERROR}}function getStackTraceStack(){return global.avm?global.avm._stackTraceStack:[]}function setStackTraceStack(t){global.avm&&(global.avm._stackTraceStack=t)}function Promise(t){var e=[Error().stack].concat(getStackTraceStack());if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");Object.defineProperties(this,{_deferredState:{value:0,writable:!0},_state:{value:0,writable:!0},_value:{value:null,writable:!0},_stackTraceStack:{value:e,writable:!1},_deferreds:{value:null,writable:!0}});t!==noop&&doResolve(t,this)}Promise._onHandle=null;Promise._onReject=null;Promise._noop=noop;Promise.prototype.then=function(t,e){if(this.constructor!==Promise)return safeThen(this,t,e);var n=new Promise(noop);handle(this,new Handler(t,e,n));return n};function safeThen(i,r,o){return new i.constructor(function(t,e){var n=new Promise(noop);n.then(t,e);handle(i,new Handler(r,o,n))})}function handle(t,e){for(;3===t._state;)t=t._value;Promise._onHandle&&Promise._onHandle(t);if(0!==t._state)handleResolved(t,e);else{if(0===t._deferredState){t._deferredState=1;t._deferreds=e;return}if(1===t._deferredState){t._deferredState=2;t._deferreds=[t._deferreds,e];return}t._deferreds.push(e)}}function handleResolved(i,r){asap(function(){var t=1===i._state?r.onFulfilled:r.onRejected;if(null!==t){var e=getStackTraceStack();setStackTraceStack(i._stackTraceStack);var n=tryCallOne(t,i._value);setStackTraceStack(e);n===IS_ERROR?reject(r.promise,LAST_ERROR):resolve(r.promise,n)}else(1===i._state?resolve:reject)(r.promise,i._value)})}function resolve(t,e){if(e===t)return reject(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=getThen(e);if(n===IS_ERROR)return reject(t,LAST_ERROR);if(n===t.then&&e instanceof Promise){t._state=3;t._value=e;finale(t);return}if("function"==typeof n){doResolve(n.bind(e),t);return}}t._state=1;t._value=e;finale(t)}function reject(t,e){t._state=2;t._value=e;Promise._onReject&&Promise._onReject(t,e);finale(t)}function finale(t){if(1===t._deferredState){handle(t,t._deferreds);t._deferreds=null}if(2===t._deferredState){for(var e=0;e<t._deferreds.length;e++)handle(t,t._deferreds[e]);t._deferreds=null}}function Handler(t,e,n){this.onFulfilled="function"==typeof t?t:null;this.onRejected="function"==typeof e?e:null;this.promise=n}function doResolve(t,e){var n=!1,i=tryCallTwo(t,function(t){if(!n){n=!0;resolve(e,t)}},function(t){if(!n){n=!0;reject(e,t)}});if(!n&&i===IS_ERROR){n=!0;reject(e,LAST_ERROR)}}function valuePromise(t){var e=new Promise(Promise._noop);e._state=1;e._value=t;return e}Promise.resolve=function(t){if(t instanceof Promise)return t;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new Promise(e.bind(t))}catch(n){return new Promise(function(t,e){return e(n)})}return valuePromise(t)};Promise.all=function(t){var a=Array.prototype.slice.call(t);return new Promise(function(i,r){if(0===a.length)return i([]);var o=a.length;function s(e,t){if(t&&("object"==typeof t||"function"==typeof t)){if(t instanceof Promise&&t.then===Promise.prototype.then){for(;3===t._state;)t=t._value;if(1===t._state)return s(e,t._value);2===t._state&&r(t._value);t.then(function(t){return s(e,t)},r);return}var n=t.then;if("function"==typeof n){new Promise(n.bind(t)).then(function(t){return s(e,t)},r);return}}a[e]=t;0==--o&&i(a)}for(var t=0;t<a.length;t++)s(t,a[t])})};Promise.reject=function(n){return new Promise(function(t,e){return e(n)})};Promise.race=function(t){return new Promise(function(e,n){return t.forEach(function(t){return Promise.resolve(t).then(e,n)})})};Promise.prototype.catch=function(t){return this.then(null,t)};Promise.prototype[Symbol.toStringTag]="Promise";var jsConsole=function(){var t=global.console.print?bindNativeConsole(global.console):global.console;t.debug||(t.debug=function(){t.log.apply(t,arguments)});return t};function format(t){if("string"==typeof t)return t;for(var e=Array(arguments.length),n=0;n<arguments.length;n++)e[n]=arguments[n];return e.join(" ")}function getStackLineDes(){var t=Error("trace").stack;if(!t)return"";var e=t.split("\n");if(e.length<4)return"";var n=e[3].split("(");return n.length<2?"":" at "+n[1].split(")")[0]}var warn=function(){var t;(t=jsConsole()).warn.apply(t,arguments)};function bindNativeConsole(n){function t(){var e=o[r];i[e]=function(){var t=format.apply(void 0,arguments);t+=getStackLineDes();n.print(e,t)}}for(var i={},r=0,o=["debug","info","log","warn","error"];r<o.length;r++)t();return i}try{"undefined"==typeof global?window.global=window:global.window=global.self=global;"undefined"==typeof window&&(global.window=global)}catch(t){}global.Promise=Promise;global.console&&global.console.print&&(global.console=bindNativeConsole(global.console));global.$_getTemplateData=function(templateJs,item,index){var str="("+templateJs+")";return eval(str)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0,enumerable:!1});Object.values||(Object.values=function(t){if(t!==Object(t))throw new TypeError("Object.values called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);return n});Array.prototype.remove||(Array.prototype.remove=function(t){var e=this.indexOf(t);0<=e&&this.splice(e,1);return this.length});function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){e&&_defineProperties(t.prototype,e);n&&_defineProperties(t,n);return t}function _defineProperty(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype);(t.prototype.constructor=t).__proto__=e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nativePlatform=global.app,inMiniapp="undefined"!=typeof wx,inApp=void 0!==nativePlatform,inBrowser="undefined"!=typeof window&&!inApp,inIOS="ios"===nativePlatform,callListener=function(t,e,n){return"function"==typeof t?t.call(e,n):t.handleEvent(n)};function dispatchEvent(e){var n=this,t=(e=e||{}).type;if(!inBrowser){if(e.target){Object.assign(n,e.target)}else Object.assign(n,e);e.target=n}n.listeners||(n.listeners={});var i=n.listeners[t];if(i){e.currentTarget=n;return 1==i.length?callListener(i[0],n,e):i.forEach(function(t){callListener(t,n,e)})}}function addEventListener(t,e){this.listeners||(this.listeners={});this.listeners[t]||(this.listeners[t]=[]);~this.listeners[t].indexOf(e)||this.listeners[t].push(e);this.ownerDocument._addEvent(this.ref,t)}function removeEventListener(t,e){if(this.listeners&&this.listeners[t]){var n=this.listeners[t],i=n.indexOf(e);-1!=i&&n.splice(i,1);this.ownerDocument._removeEvent(this.ref,t)}}var nodeId=0;function uniqueId(){return"o"+ ++nodeId}var _jsId=0;function jsId(){return"i"+ ++_jsId}var _nobjId=0;function nativeId(){return"n"+ ++_nobjId}function insertIndex(t,e,n){n<0&&(n=0);var i=e[n-1],r=e[n];e.splice(n,0,t);i&&(i.nextSibling=t);t.previousSibling=i;(t.nextSibling=r)&&(r.previousSibling=t);return n}function moveIndex(t,e,n){var i=e.indexOf(t);if(i<0)return-1;var r=e[i-1],o=e[1+i];r&&(r.nextSibling=o);o&&(o.previousSibling=r);e.splice(i,1);var s=n;i<=n&&(s=n-1);var a=e[s-1],u=e[s];e.splice(s,0,t);a&&(a.nextSibling=t);t.previousSibling=a;(t.nextSibling=u)&&(u.previousSibling=t);return i===s?-1:n}function removeIndex(t,e,n){var i=e.indexOf(t);if(!(i<0)){if(n){var r=e[i-1],o=e[1+i];r&&(r.nextSibling=o);o&&(o.previousSibling=r)}e.splice(i,1)}}function linkParent(e,t){if((e.parentNode=t).ownerDocument){e.ownerDocument=t.ownerDocument;e.depth=t.depth+1}e.childNodes&&e.childNodes.forEach(function(t){linkParent(t,e)})}function isTextElement(t){return t&&"#text"==t.nodeName}var Element=function(){function n(t,e){this.nodeType=1;this.nodeId=uniqueId();this.tagName=(t||"").toLowerCase();this.nodeName=this.tagName;this.ownerDocument=e||null;this.attributes={};this.style={};this.classStyle={};this.childNodes=[];this.parentNode=null;this.nextSibling=null;this.previousSibling=null;this.firstChild=null;this.ref=this.nodeId;this.merged=!1;this.destroyed=!1;this._checked=!1;this._disabled=!1;this._value=""}n.$create=function(t,e){return new n(t,e)};var t=n.prototype;t.appendChild=function(t){if(t.parentNode){t.parentNode.removeChild(t);this.appendChild(t)}else{linkParent(t,this);insertIndex(t,this.childNodes,this.childNodes.length);this.connectedCallback&&this.connectedCallback();isTextElement(t)?this.setAttribute("text",t.nodeValue):this.ownerDocument._addElement(t.ref,this.ref,t,-1);this.firstChild=this.childNodes[0]}};t.insertBefore=function(t,e){if(t.parentNode){t.parentNode.removeChild(t);this.insertBefore(t,e)}else{linkParent(t,this);var n=insertIndex(t,this.childNodes,this.childNodes.indexOf(e));isTextElement(t)?this.setAttribute("text",t.nodeValue):this.ownerDocument._addElement(t.ref,this.ref,t,n);this.firstChild=this.childNodes[0]}};t.insertAfter=function(t,e){if(!(t.parentNode&&t.parentNode!==this||t===e||t.previousSibling&&t.previousSibling===e)){if(t.parentNode){var n=moveIndex(t,this.childNodes,1+this.childNodes.indexOf(e));this.ownerDocument._moveElement(t.ref,this.ref,n)}else{linkParent(t,this);var i=insertIndex(t,this.childNodes,1+this.childNodes.indexOf(e));isTextElement(t)?this.setAttribute("text",t.nodeValue):this.ownerDocument._addElement(this.ref,t.ref,t,i)}this.firstChild=this.childNodes[0]}};t.removeChild=function(t){if(t.parentNode){removeIndex(t,this.childNodes,!0);this.disconnectedCallback&&this.disconnectedCallback();isTextElement(t)?this.setAttribute("text",""):this.ownerDocument._removeElement(t.ref,t)}t.parentNode=null;this.firstChild=this.childNodes[0]};t.replaceChild=function(t,e){this.insertBefore(t,e);this.removeChild(e)};t.setAttribute=function(t,e,n){if(this.attributes[t]!==e||!1===n){this.attributes[t]=e;n||this.setter(t,e)}};t.getAttribute=function(t){return this.attributes[t]};t.removeAttribute=function(t){if(this.attributes[t]){delete this.attributes[t];this.ownerDocument._removeAttr(this.ref,t)}};t.setAttributeNS=function(t,e,n,i){this.setAttribute(e,n,i)};t.removeAttributeNS=function(t,e){this.removeAttribute(e)};t.getComputedStyle=function(){};t.getBoundingClientRect=function(){return this.callMethod("getBoundingClientRect")||{}};t.setStyle=function(t,e,n){if(this.style[t]!==e||!1===n){this.style[t]=e;if(!n){var i={};i[t]=e;this.ownerDocument._setStyles(this.ref,i)}}};t.setStyles=function(t){t&&"object"==typeof t?Object.assign(this.style,t):this.style=t;this.ownerDocument._setStyles(this.ref,t)};t.setClassStyle=function(t){for(var e in this.classStyle)this.classStyle[e]="";Object.assign(this.classStyle,t);this.ownerDocument._setStyles(this.ref,this.toStyle())};t.toStyle=function(){return"string"==typeof this.style?this.style:Object.assign({},this.classStyle,this.style)};t.toJSON=function(){var t={id:this.ref,type:this.tagName,attributes:this.attributes?this.attributes:{}};t.attributes.style=this.toStyle();if(this.listeners){var e=Object.keys(this.listeners);e.length&&(t.events=e)}this.childNodes.length&&(t.children=this.childNodes.map(function(t){return t.toJSON()}));return t};t.destroy=function(){this.ownerDocument._unregisterNode(this);this.parentNode=null;this.childNodes.forEach(function(t){t.destroy()});this.destroyed=!0};t.isDestroyed=function(){return this.destroyed};t.callMethod=function(t,e,n){return t?this.ownerDocument._callMethod(this,t,e,n):null};t.getter=function(t){if(t)return this.ownerDocument._get(this,t)};t.setter=function(t,e){if(t){var n={};n[t]=e;this.ownerDocument._setAttr(this.ref,n)}};t.callNative=function(t,e,n){return this.callMethod(t,e,n)};_createClass(n,[{key:"checked",get:function(){this._checked=this.getter("checked");return this._checked},set:function(t){this._checked=t;this.setter("checked",t)}},{key:"disabled",get:function(){this._disabled=this.getter("disabled");return this._disabled},set:function(t){this._disabled=t;this.setter("disabled",t)}},{key:"value",get:function(){var t=this.getter("value");null!=t&&(this._value=t);return this._value},set:function(t){if(this._value!=t){this._value=t;this.setter("value",t)}}},{key:"lastChild",get:function(){return this.childNodes[this.childNodes.length-1]}}]);return n}();Element.prototype.removeEventListener=removeEventListener;Element.prototype.addEventListener=addEventListener;Element.prototype.dispatchEvent=dispatchEvent;Element.prototype[Symbol.toStringTag]="Element";var TextNode=function(i){_inheritsLoose(r,i);function r(t,e){var n;(n=i.call(this,"#text",e)||this).nodeId=jsId();n.nodeType=3;n.dataValue=t||"";return n}var t=r.prototype;t.splitText=function(t){var e=this.dataValue?this.dataValue.length:0,n=this.substringData(0,t),i=this.substringData(t,e-t);this.dataValue=n;return new r(i)};t.substringData=function(t,e){return this.dataValue?this.dataValue.substr(t,e):""};t.appendData=function(t){var e=t;e&&(this.dataValue?this.dataValue+=e:this.dataValue=e)};t.insertData=function(){};t.deleteData=function(){};t.replaceData=function(){};t.appendChild=function(){};t.removeChild=function(){};t.setAttribute=function(){};t.removeAttribute=function(){};t.addEventListener=function(){};t.removeEventListener=function(){};_createClass(r,[{key:"length",get:function(){return this.dataValue?this.dataValue.length:0}},{key:"nodeValue",get:function(){return this.dataValue},set:function(t){this.dataValue=t;this.parentNode&&this.parentNode.setAttribute("text",t)}}]);return r}(Element);TextNode.prototype.toString=function(){return this.dataValue};var slice=Array.prototype.slice;function domWalk(t,e){"length"in t||(t=[t]);t=slice.call(t);for(;t.length;){var n=t.shift(),i=e(n);if(i)return i;n.childNodes&&n.childNodes.length&&(t=slice.call(n.childNodes).concat(t))}}function arrayWalk(t,e){"length"in t||(t=[t]);t=slice.call(t);for(;t.length;){var n=e(t.shift());if(n)return n}}var QuerySelectors=function(){function t(t){this.ownerDocument=t;this.nodeMap=t._nodeMap}var e=t.prototype;e.byId=function(t){var e=t;if(!e)return null;var n=arrayWalk(this.ownerDocument.childNodes,function(t){if(t.attributes.id===e)return t});return n?merge(this.ownerDocument,n):null};e.byTagName=function(t){var e=t,n=[];if(!e)return n;e=e.toLowerCase();for(var i in this.nodeMap)this.nodeMap[i].type===e&&n.push(this.nodeMap[i]);return n};e.byClassName=function(t){var e=t,n=[];if(!e)return n;e=e.toLowerCase();for(var i in this.nodeMap){var r=this.nodeMap[i].attributes.class;r&&~r.indexOf(e)&&n.push(this.nodeMap[i])}return n};e.selector=function(t){if(!t)return null;var e=this.selectorAll(t);if(e&&Array.isArray(e)&&0<e.length){return merge(this.ownerDocument,e[0])}return e};e.selectorAll=function(t){if(!t)return null;for(var e=t.split(" "),n=this,i=0,r=e.length;i<r;i++)n=handleQuery(e[i],n);return n};return t}();function merge(doc,ele){if(ele&&!ele.merged){var o=doc.$client.get(ele.ref,"bridge-object");o&&Object.assign(ele,eval(o));ele.merged=!0}return ele}function handleQuery(t,e){var n=null;/^#([\w-]+)$/.test(t)?n=e.byId(t.substring(1)):/^[\w-]+$/.test(t)?n=e.byTagName(t):/^\.([\w-]+)$/.test(t)&&(n=e.byClassName(t.substring(1)));return n}var NativePipe=function(){function t(t){this.$nb=t||global.native_hooks}var e=t.prototype;e.create=function(t,e,n){this.$nb.create(t,e,n)};e.get=function(t,e){return this.$nb.get(t,e)};e.set=function(t,e){this.$nb.set(t,e)};e.call=function(t,e,n,i){return this.$nb.call(t,e,n,i)};e.listen=function(t,e,n){this.$nb.listen(t,e,n)};e.destroy=function(t){this.$nb.destroy(t)};e.contentLoaded=function(t){this.$nb.contentLoaded(t)};e.load=function(t){return this.$nb.load(t)};e.loadAndExecute=function(t,e,n){return this.$nb.loadAndExecute(t,e,n)};return t}(),$NativePipe=new NativePipe,HTMLElement=function(n){_inheritsLoose(t,n);function t(t,e){return n.call(this,t,e)||this}var e=t.prototype;e.connectedCallback=function(){};e.disconnectedCallback=function(){};return t}(Element),HTMLHeadElement=function(e){_inheritsLoose(t,e);function t(t){return e.call(this,"head",t)||this}t.prototype.appendChild=function(){};return t}(HTMLElement),HTMLBodyElement=function(e){_inheritsLoose(t,e);function t(t){return e.call(this,"body",t)||this}return t}(HTMLElement),IS_NON_DIMENSIONAL=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function extend(t,e){for(var n in e)t[n]=e[n];return t}function applyRef(t,e){t&&("function"==typeof t?t(e):t.current=e)}function isEmptyObject(e){if(!e)return 1;else return function(){for(var t in e)return;return 1}()}var defer=Promise.resolve().then.bind(Promise.resolve());function nProps(e){if(!e||Array.isArray(e))return{};var n={};Object.keys(e).forEach(function(t){n[t]=e[t].value});return n}function getUse(a,t,e,n){var u=[];t.forEach(function(t,e){if("string"==typeof t)u[e]=getTargetByPath(a,t);else{var n=Object.keys(t)[0],i=t[n];if("string"==typeof i)u[e]=getTargetByPath(a,i);else{var r=i[0];if("string"==typeof r){var o=getTargetByPath(a,r);u[e]=i[1]?i[1](o):o}else{var s=[];r.forEach(function(t){s.push(getTargetByPath(a,t))});u[e]=i[1].apply(null,s)}}u[n]=u[e]}});e&&(e[n]=u);return u}function getTargetByPath(t,e){for(var n=e.replace(/]/g,"").replace(/\[/g,".").split("."),i=t,r=0,o=n.length;r<o;r++)i=i[n[r]];return i}function removeItem(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n]===t){e.splice(n,1);break}}function Fragment(t){return t.children}var options$1={scopedStyle:!1,mapping:{},staticStyleMapping:{},styleCache:[]},mapping=options$1.mapping;function isSameNodeType(t,e,n){if("string"==typeof e||"number"==typeof e)return void 0!==t.splitText;if("string"!=typeof e.nodeName)return n||t._componentConstructor===e.nodeName;var i=mapping[e.nodeName];return i?n||t._componentConstructor===i:!t._componentConstructor&&isNamedNode(t,e.nodeName)}function isNamedNode(t,e){return t.t===e||t.nodeName.toLowerCase()==e.toLowerCase()}function getNodeProps(t){var e=extend({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}function createNode(t,e){var n=e?Document$1.createElementNS("http://www.w3.org/2000/svg",t):Document$1.createElement(t);n.t=t;return n}function createTextNode(t){return Document$1.createTextNode(t)}function parseCSSText(t){var e=t.replace(/\/\*(.|\s)*?\*\//g," ").replace(/\s+/g," "),n={},i=e.match(/ ?(.*?) ?{([^}]*)}/)||[r,o,e],r=i[0],o=i[1],s=i[2].split(";").map(function(t){return function(t){if(!t)return!1;var e=(t=t.split(":"))[0].trim(),n=t.slice(1).join(":").trim();return!(!e||!n)&&[e,n]}(t)});for(var a in s){var u=s[a],f=u[0],c=u[1];f&&c&&(n[f.replace(/\W+\w/g,function(t){return t.slice(-1).toUpperCase()})]=c)}return isEmptyObject(n)?t:n}function removeNode(t){var e=t.parentNode;e&&e.removeChild(t)}function setAttributes(e,t,n){t.forEach(function(t){setAccessor(e,t.name,t.oldVal,t.newVal,n)})}function setAccessor(t,e,n,i,r){"className"===e&&(e="class");if("key"!==e)if("ref"===e){applyRef(n,null);applyRef(i,t)}else if("class"!==e||r)if("style"===e){if(inBrowser){setStyleInBrowser(t,e,n,i);return}var o=n,s=i;"string"==typeof n&&(o=parseCSSText(n));"string"==typeof i&&(s=parseCSSText(i));var a={},u=!1;if(o){for(var f in o)"object"!=typeof s||f in s||(u=!(a[f]=""));for(var c in s)if(s[c]!==o[c]){a[c]=s[c];u=!0}u&&t.setStyles(a)}else t.setStyles(s)}else if("o"==e[0]&&"n"==e[1]){var h=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2);if(i){if(!n){t.addEventListener(e,eventProxy,h);if("tap"==e){t.addEventListener("touchstart",touchStart,h);t.addEventListener("touchend",touchEnd,h)}}}else{t.removeEventListener(e,eventProxy,h);if("tap"==e){t.removeEventListener("touchstart",touchStart,h);t.removeEventListener("touchend",touchEnd,h)}}(t._listeners||(t._listeners={}))[e]=i}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("list"!==e&&"type"!==e&&!r&&e in t&&"tagName"!==e&&"form"!==e&&"size"!==e&&"download"!==e&&"href"!==e)setProperty(t,e,i=null==i?"":i);else{var l=r&&e!==(e=e.replace(/^xlink:?/,""));if(null==i||!1===i){i=null==i?"":i;l?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i)}else if("function"!=typeof i)if(l)t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i);else{t.setAttribute(e,i);t.avmDataset||(t.avmDataset={});e.indexOf("data-")||(e=e.substr(5));t.avmDataset[e]=i}else setProperty(t,e,i)}else{t.className=i||"";t.setAttribute("class",t.className)}}function setStyleInBrowser(t,e,n,i){i&&"string"!=typeof i&&"string"!=typeof n||(t.style.cssText=i||"");if(i&&"object"==typeof i){if("string"!=typeof n)for(var r in n)r in i||(t.style[r]="");for(var r in i)t.style[r]="number"==typeof i[r]&&!1===IS_NON_DIMENSIONAL.test(r)?i[r]+"px":i[r]}}function setProperty(t,e,n){try{t[e]=n}catch(t){}}function eventProxy(e){var lisFun=this._listeners[e.type],comp=lisFun._comp||Document$1.$rootvm;(inBrowser||inMiniapp)&&parseEvent(e);if("function"==typeof lisFun){e=options$1.event&&options$1.event(e)||e;if(inBrowser&&!inMiniapp){if(e.target&&e.target.avmDataset){Object.defineProperty(e.target,"dataset",{writable:!0});e.target.dataset=e.target.avmDataset}if(e.currentTarget&&e.currentTarget.avmDataset){Object.defineProperty(e.currentTarget,"dataset",{writable:!0});e.currentTarget.dataset=e.currentTarget.avmDataset}}return lisFun(e)}if("string"==typeof lisFun){var Fn=parseFun(lisFun);if(comp[Fn.name])return comp[Fn.name].apply(comp,Fn.params);var fun=eval(Fn.name);return fun.apply(comp,Fn.params)}}function parseEvent(t){if("input"==t.type){Object.defineProperty(t,"detail",{writable:!0});t.detail={value:t.currentTarget.value}}if(!inMiniapp)if("scroll"==t.type){t.detail={scrollLeft:t.currentTarget.scrollLeft,scrollTop:t.currentTarget.scrollTop,scrollWidth:t.currentTarget.scrollWidth,scrollHeight:t.currentTarget.scrollHeight,deltaX:isNaN(t.currentTarget._avmOldScrollLeft)?0:t.currentTarget._avmOldScrollLeft-t.currentTarget.scrollLeft,deltaY:isNaN(t.currentTarget._avmOldScrollTop)?0:t.currentTarget._avmOldScrollTop-t.currentTarget.scrollTop};t.currentTarget._avmOldScrollLeft=t.currentTarget.scrollLeft;t.currentTarget._avmOldScrollTop=t.currentTarget.scrollTop}else"change"==t.type&&(t.detail={value:t.currentTarget.checked})}function touchStart(t){this.___touchX=t.touches[0].pageX;this.___touchY=t.touches[0].pageY;this.___scrollTop=Document$1.body.scrollTop}function touchEnd(t){Math.abs(t.changedTouches[0].pageX-this.___touchX)<30&&Math.abs(t.changedTouches[0].pageY-this.___touchY)<30&&Math.abs(Document$1.body.scrollTop-this.___scrollTop)<30&&this.dispatchEvent(new CustomEvent("tap",{detail:t}))}function parseFun(t){var e={name:"",params:[]};if(~(t=t.trim()).indexOf("(")&&~t.indexOf(")")){var n=t.split("(");e.name=n[0].trim();if((n=n[1].split(")"))[0]){n=n[0].split(",");for(var i=0;i<n.length;++i){var r=n[i].trim();"'"==r[0]&&"'"==r[0|r.length-1]&&(r=r.substr(1,r.length-2));e.params.push(r)}}}else e.name=t;return e}var items=[];function enqueueRender(t){1==items.push(t)&&(options$1.debounceRendering||defer)(rerender)}function rerender(){for(var t;t=items.pop();)renderComponent(t)}var obaa=function f(t,e,n){function i(t,e,n){t.$observer||(t.$observer=this);var i=t.$observer,r=[];if(f.isArray(t)){if(0===t.length){t.$observeProps={};t.$observeProps.$observerPath="#"}i.mock(t)}for(var o in t)if(t.hasOwnProperty(o))if(n){if(f.isArray(e)&&f.isInArray(e,o)){r.push(o);i.watch(t,o)}else if(f.isString(e)&&o==e){r.push(o);i.watch(t,o)}}else{r.push(o);i.watch(t,o)}i.target=t;i.propertyChangedHandler||(i.propertyChangedHandler=[]);i.propertyChangedHandler.push({all:!n,propChanged:n||e,eventPropArr:r})}i.prototype={onPropertyChanged:function(t,e,n,i,r){if(e!==n&&this.propertyChangedHandler)for(var o=f._getRootName(t,r),s=0,a=this.propertyChangedHandler.length;s<a;s++){var u=this.propertyChangedHandler[s];!u.all&&!f.isInArray(u.eventPropArr,o)&&o.indexOf("Array-")||u.propChanged.call(this.target,t,e,n,r)}t.indexOf("Array-")&&"object"==typeof e&&this.watch(i,t,i.$observeProps.$observerPath)},mock:function(e){var r=this;f.methods.forEach(function(i){Object.defineProperty(e,i,{enumerable:!1,writable:!0,configurable:!0});e[i]=function(){var t=Array.prototype.slice.call(this,0),e=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(f.triggerStr)){for(var n in this)this.hasOwnProperty(n)&&!f.isFunction(this[n])&&r.watch(this,n,this.$observeProps.$observerPath);r.onPropertyChanged("Array-"+i,this,t,this,this.$observeProps.$observerPath)}return e};var t="pure"+i.substring(0,1).toUpperCase()+i.substring(1);Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0});e[t]=function(){return Array.prototype[i].apply(this,Array.prototype.slice.call(arguments))}})},watch:function(n,i,t){Object.defineProperty(n,"$observeProps",{enumerable:!1,writable:!0,configurable:!0});n.$observeProps&&Object.defineProperty(n.$observeProps,"$observerPath",{enumerable:!1,writable:!0,configurable:!0});if("$observeProps"!=i&&"$observer"!=i&&!f.isFunction(n[i])){n.$observeProps||(n.$observeProps={});n.$observeProps.$observerPath=void 0!==t?t:"#";var r=this,e=n.$observeProps[i]=n[i];Object.defineProperty(n,i,{get:function(){return this.$observeProps[i]},set:function(t){var e=this.$observeProps[i];r.onPropertyChanged(i,this.$observeProps[i]=t,e,this,n.$observeProps.$observerPath)}});if("object"==typeof e){if(f.isArray(e)){this.mock(e);if(0===e.length){e.$observeProps||(e.$observeProps={});e.$observeProps.$observerPath=void 0!==t?t:"#"}}for(var o in e)e.hasOwnProperty(o)&&this.watch(e,o,n.$observeProps.$observerPath+"-"+i)}}}};return new i(t,e,n)};obaa.methods=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];obaa.triggerStr="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size";obaa.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)};obaa.isString=function(t){return"string"==typeof t};obaa.isInArray=function(t,e){for(var n=t.length;-1<--n;)if(e===t[n])return!0;return!1};obaa.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)};obaa._getRootName=function(t,e){return"#"===e?t:e.split("-")[1]};obaa.add=function(t,e){t.$observer.watch(t,e)};obaa.set=function(t,e,n,i){i||(t[e]=n);t.$observer.watch(t,e);i&&(t[e]=n)};Array.prototype.size=function(t){this.length=t};var callbacks=[],nextTickCallback=[];function fireTick(){callbacks.forEach(function(t){t.fn.call(t.scope)});nextTickCallback.forEach(function(t){t.fn.call(t.scope)});nextTickCallback.length=0}function proxyData(t){var e=null;obaa(t.data,function(){if(!t._willUpdate)if(t.constructor.nextUpdate){clearTimeout(e);e=setTimeout(function(){t.update();fireTick()},0)}else{t.update();fireTick()}})}var Component=function(){function t(t,e){this.props=Object.assign(nProps(this.constructor.props),this.constructor.defaultProps,t);this.data=this.constructor.data||this.data||{};this._preCss=null;this.store=e;this.computed={}}var e=t.prototype;e.update=function(t){if(!this._willUpdate){this.beforeUpdate();this.beforeRender();this._willUpdate=!0;t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t);renderComponent(this,2);options$1.componentChange&&options$1.componentChange(this,this.base);this._willUpdate=!1;this.afterUpdate()}};e.updateSelf=function(){if(!this._willUpdateSelf){this._willUpdateSelf=!0;renderComponent(this,2,null,null,!0);this._willUpdateSelf=!1}};e.fire=function(e,n){var i=this;Object.keys(this.props).every(function(t){if("on"+e.toLowerCase()!=t.toLowerCase())return!0;i.props[t]({detail:n});return!1})};e.render=function(){};e.install=function(){};e.installed=function(){};e.uninstall=function(){};e.beforeUpdate=function(){};e.afterUpdate=function(){};e.beforeRender=function(){};return t}();_defineProperty(Component,"observe",!0);_defineProperty(Component,"nextUpdate",!1);_defineProperty(Component,"_isDefinite",!0);var storeHelpers=["use","useSelf"];function define(t,n,o){if(n._isDefinite)customElementsDefine(t,n);else{var e=function(r){_inheritsLoose(t,r);function t(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];_defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(n))||this),"compute",o&&o.compute);return t}var e=t.prototype;e.render=function(){return n.call(this,this)};e.installed=function(){this._isInstalled=!0};return t}(Component);if(o){function i(t){"function"==typeof o[t]&&(e.prototype[t]=function(){return o[t].apply(this,arguments)})}for(var r in o)i(r);storeHelpers.forEach(function(t){o[t]&&"function"!==o[t]&&(e.prototype[t]=function(){return o[t]})})}customElementsDefine(t,e)}}function customElementsDefine(t,e){(options$1.mapping[t]=e).use?e.updatePath=getPath(e.use):e.data&&(e.updatePath=getUpdatePath(e.data))}function getPath(t,e,n){if(Array.isArray(t)){var i={};t.forEach(function(t){if("string"==typeof t)i[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?i[e]=!0:"string"==typeof e[0]?i[e[0]]=!0:e[0].forEach(function(t){return i[t]=!0})}});e&&(e[n]=i);return i}return getUpdatePath(t)}function getUpdatePath(t){var e={};dataToPath(t,e);return e}function dataToPath(n,i){Object.keys(n).forEach(function(t){i[t]=!0;var e=Object.prototype.toString.call(n[t]);"[object Object]"===e?_objToPath(n[t],t,i):"[object Array]"===e&&_arrayToPath(n[t],t,i)})}function _objToPath(n,i,r){Object.keys(n).forEach(function(t){r[i+"."+t]=!0;delete r[i];var e=Object.prototype.toString.call(n[t]);"[object Object]"===e?_objToPath(n[t],i+"."+t,r):"[object Array]"===e&&_arrayToPath(n[t],i+"."+t,r)})}function _arrayToPath(t,i,r){t.forEach(function(t,e){r[i+"["+e+"]"]=!0;delete r[i];var n=Object.prototype.toString.call(t);"[object Object]"===n?_objToPath(t,i+"["+e+"]",r):"[object Array]"===n&&_arrayToPath(t,i+"["+e+"]",r)})}var components={};function collectComponent(t){unlinkComponent(t)}function createComponent(t,e,n,i,r){var o,s=components[t.name];if(t.prototype&&t.prototype.render){o=new t(e,n);Component.call(o,e,n)}else{(o=new Component(e,n)).constructor=t;o.render=doRender}linkComponent(o,r);i&&(o.scopedCssAttr=i.css);if(o.store){if(o.use){var a="function"==typeof o.use?o.use():o.use;if(options.isMultiStore){var u={},f={};for(var c in a){u[c]={};f[c]={};getPath(a[c],u,c);getUse(o.store[c].data,a[c],f,c);o.store[c].instances.push(o)}o.using=f;o._updatePath=u}else{o._updatePath=getPath(a);o.using=getUse(o.store.data,a);o.store.instances.push(o)}}if(o.useSelf){var h="function"==typeof o.useSelf?o.useSelf():o.useSelf;if(options.isMultiStore){var l={},d={};for(var v in h){getPath(h[v],l,v);getUse(o.store[v].data,h[v],d,v);o.store[v].updateSelfInstances.push(o)}o.usingSelf=d;o._updateSelfPath=l}else{o._updateSelfPath=getPath(h);o.usingSelf=getUse(o.store.data,h);o.store.updateSelfInstances.push(o)}}if(o.compute)for(var m in o.compute)o.computed[m]=o.compute[m].call(options.isMultiStore?o.store:o.store.data)}if(o.compute)for(var m in o.compute)bindComputed(o,m,o.compute[m]);if(s)for(var p=s.length;p--;)if(s[p].constructor===t){o.nextBase=s[p].nextBase;s.splice(p,1);break}return o}function linkComponent(t,e){if(e){(t._host=e)._child||(e._child=[]);e._child.push(t)}}function unlinkComponent(t){if(t){t._host=null;t._child=null}}function doRender(t,e,n){return this.constructor(t,n)}var _none_=function(){},definition={enumerable:!0,configurable:!0,get:_none_,set:_none_};function bindComputed(t,e,n){if("function"==typeof n){definition.get=toGetter(n);definition.set=_none_}else{definition.get=n.get?toGetter(n.get):_none_;definition.set=n.set||_none_}Object.defineProperty(t,e,definition)}function toGetter(t){return function(){return t.call(this,this)}}var styleId=0;function getCtorName(t){for(var e=0,n=options$1.styleCache.length;e<n;e++){var i=options$1.styleCache[e];if(i.ctor===t)return i.attrName}var r="s"+styleId;options$1.styleCache.push({ctor:t,attrName:r});styleId++;return r}function copyJsonScoper(t,e){var n={};for(var i in t)n[i+e]=t[i];return n}function scoper(t,r){r="["+r.toLowerCase()+"]";if("object"==typeof t)return copyJsonScoper(t,r);else return(t=t.replace(/\/\*[^*]*\*+([^/][^*]*\*+)*\//g,"")).replace(/([^\r\n,{}:]+)(:[^\r\n,{}]+)?(,(?=[^{}]*{)|s*{)/g,function(t,e,n,i){void 0===n&&(n="");return e.match(/^\s*(@media|\d+%?|@-webkit-keyframes|@keyframes|to|from|@font-face)/)?e+n+i:e.replace(/(\s*)$/,"")+r+n+i})}function addStyle(t,e){Document$1._createStyle(t,e)}function addStyleWithoutId(t){Document$1._createStyle(t)}function addScopedAttrStatic(t,e){options$1.scopedStyle&&scopeVdom(e,t)}function addStyleLinkToHead(t){if(!options$1.staticStyleMapping[t]){Document$1._createLink(t);options$1.staticStyleMapping[t]=!0}}function addStyleToHead(t,e){if(options$1.scopedStyle){if(!options$1.staticStyleMapping[e]){addStyle(scoper(t,e),e);options$1.staticStyleMapping[e]=!0}}else if(!options$1.staticStyleMapping[e]){addStyleWithoutId(t);options$1.staticStyleMapping[e]=!0}}function scopeVdom(e,t){if("object"==typeof t){t.attributes=t.attributes||{};t.attributes[e]="";t.css=t.css||{};t.css[e]="";t.children.forEach(function(t){return scopeVdom(e,t)})}}function scopeHost(t,e){if("object"==typeof t&&e){t.attributes=t.attributes||{};for(var n in e)t.attributes[n]=""}}function buildComponentFromVNode(t,e,n,i,r,o){for(var s=t&&t._component,a=s,u=t,f=s&&t._componentConstructor===e.nodeName,c=f,h=getNodeProps(e);s&&!c&&(s=s._parentComponent);)c=s.constructor===e.nodeName;if(s&&c&&(!i||s._component)){r||setComponentProps(s,h,3,n,i,s);t=s.base}else{if(a&&!f){unmountComponent(a);t=u=null}s=createComponent(e.nodeName,h,n,e,o);for(var l in s){var d=s[l];if("function"==typeof d){if("constructor"==l)continue;s[l]=d.bind(s)}}if(t&&!s.nextBase){s.nextBase=t;u=null}setComponentProps(s,h,1,n,i,s);t=s.base;if(u&&t!==u){u._component=null;recollectNodeTree(u,!1)}}return t}function setComponentProps(t,e,n,i,r,o){if(!t._disable){t._disable=!0;(t.__ref=e.ref)&&delete e.ref;(t.__key=e.key)&&delete e.key;if(!t.base||r){t.beforeInstall&&t.beforeInstall();t.install&&t.install();t.constructor.observe&&proxyData(t)}else t.receiveProps&&t.receiveProps(e,t.data,t.props);if(i&&i!==t.context){t.prevContext||(t.prevContext=t.context);t.context=i}t.prevProps||(t.prevProps=t.props);t.props=e;t._disable=!1;0!==n&&(1!==n&&!1===options$1.syncComponentUpdates&&t.base?enqueueRender(t):renderComponent(t,1,r,!1,!1,o));applyRef(t.__ref,t)}}function renderComponent(t,e,n,i,r,o){if(!t._disable){var s,a,u,f=t.props,c=t.data,h=t.context,l=t.prevProps||f,d=t.prevState||c,v=t.prevContext||h,m=t.base,p=t.nextBase,g=m||p,y=t._component,b=!1;if(m){t.props=l;t.data=d;t.context=v;if(t.store||2==e||shallowComparison(l,f)){b=!1;t.beforeUpdate&&t.beforeUpdate(f,c,h)}else b=!0;t.props=f;t.data=c;t.context=h}t.prevProps=t.prevState=t.prevContext=t.nextBase=null;if(!b){t.beforeRender&&t.beforeRender();s=t.render(f,c,h);flushComponentPre(t,s);scopeHost(s,t.scopedCssAttr);t.getChildContext&&(h=extend(extend({},h),t.getChildContext()));var w,T,C=options$1.mapping[s&&s.nodeName];if(C){var E=getNodeProps(s);if((a=y)&&a.constructor===C&&E.key==a.__key)setComponentProps(a,E,1,h,!1,a);else{w=a;t._component=a=createComponent(C,E,h,null,o);a.nextBase=a.nextBase||p;a._parentComponent=t;setComponentProps(a,E,0,h,!1,a);renderComponent(a,1,n,!0,!1,o)}T=a.base}else{u=g;(w=y)&&(u=t._component=null);if(g||1===e){u&&(u._component=null);T=diff(u,s,h,n||!m,g&&g.parentNode,!0,r,o||t)}}if(g&&T!==g&&a!==y){var S=g.parentNode;if(S&&T!==S){S.replaceChild(T,g);if(!w){g._component=null;recollectNodeTree(g,!1)}}}w&&unmountComponent(w);if((t.base=T)&&!i){for(var P=t,j=t;j=j._parentComponent;)(P=j).base=T;T._component=P;T._componentConstructor=P.constructor}}if(!m||n)unshiftMount(t);else if(!b){t.afterUpdate&&t.afterUpdate(l,d,v);t.updated&&t.updated(l,d,v);options$1.afterUpdate&&options$1.afterUpdate(t)}if(null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);diffLevel||i||flushMounts()}}function flushComponentPre(t,e){if(t.constructor.css||t.css){var n="scope_"+getCtorName(t.constructor);addScopedAttrStatic(e,n);addStyleToHead(t.constructor.css?t.constructor.css:"function"==typeof t.css?t.css():t.css,n)}if(t.constructor.csslink||t.csslink){var i=t.constructor.csslink?t.constructor.csslink:"function"==typeof t.csslink?t.csslink():t.csslink;if(Array.isArray(i))for(var r=0;r<i.length;++r)addStyleLinkToHead(i[r])}}function shallowComparison(t,e){var n;for(n in t)if(null==e[n]&&null!=t[n])return 1;if(0<t.children.length||0<e.children.length)return 1;for(n in e)if("children"!=n){var i=typeof e[n];if("function"==i||"object"==i)return 1;if(e[n]!=t[n])return 1}}function unmountComponent(t){options$1.beforeUnmount&&options$1.beforeUnmount(t);var e=t.base;t._disable=!0;t.uninstall&&t.uninstall();if(t.store)if(options.isMultiStore)for(var n in t.store){var i=t.store[n];i.instances&&removeItem(t,i.instances);i.updateSelfInstances&&removeItem(t,i.updateSelfInstances)}else{t.store.instances&&removeItem(t,t.store.instances);t.store.updateSelfInstances&&removeItem(t,t.store.updateSelfInstances)}t.base=null;var r=t._component;if(r)unmountComponent(r);else if(e){null!=e.__inattr_&&applyRef(e.__inattr_.ref,null);removeNode(t.nextBase=e);collectComponent(t);spliceMount(t);removeChildren(e)}applyRef(t.__ref,null)}function VNode(t,e,n){this.nodeName=t;this.children=e;this.attributes=n}var diffLevel=0,isSvgMode=!1,hydrating=!1,mounts=[],mountMaps={};function spliceMount(t){delete mountMaps[t.constructor.name]}function unshiftMount(t){mounts.unshift(t);mountMaps[t.constructor.name]=t}function flushMounts(){for(var t;t=mounts.pop();){options$1.afterMount&&options$1.afterMount(t);t.installed&&t.installed()}}function diff(t,e,n,i,r,o,s,a){if(!diffLevel++){isSvgMode=null!=r&&void 0!==r.ownerSVGElement;hydrating=null!=t&&!("__inattr_"in t)}var u;Array.isArray(e)&&(e=new VNode(inBrowser?"div":"view",e));u=idiff(t,e,n,i,o,s,a);r&&u.parentNode!==r&&r.appendChild(u);if(!--diffLevel){hydrating=!1;o||flushMounts()}return u}function idiff(t,e,n,i,r,o,s){var a=t,u=isSvgMode;null!=e&&"boolean"!=typeof e||(e="");var f=e.nodeName;if(options$1.mapping[f]){e.nodeName=options$1.mapping[f];return buildComponentFromVNode(t,e,n,i,o,s)}if("function"==typeof f)return buildComponentFromVNode(t,e,n,i,o,s);if("string"==typeof e||"number"==typeof e){if(t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r))t.nodeValue!=e&&(t.nodeValue=e);else{a=createTextNode(e);if(t){t.parentNode&&t.parentNode.replaceChild(a,t);recollectNodeTree(t,!0)}}try{a.__inattr_=!0}catch(t){}return a}isSvgMode="svg"===f||"foreignObject"!==f&&isSvgMode;f+="";if(!t||!isNamedNode(t,f)){a=createNode(f,isSvgMode);if(t){for(;t.firstChild;)a.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(a,t);recollectNodeTree(t,!0)}}var c=a.firstChild,h=a.__inattr_,l=e.children;if(null==h){h=a.__inattr_={};for(var d=a.attributes,v=d.length;v--;){var m=d[v].name;"type"!==m&&(h[m]=d[v].value)}}!hydrating&&l&&1===l.length&&"string"==typeof l[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=l[0]&&(c.nodeValue=l[0]):(l&&l.length||null!=c)&&innerDiffNode(a,l,n,i,hydrating||null!=h.dangerouslySetInnerHTML,o,s);s&&(a.avmComp=s);diffAttributes(a,e.attributes,h);isSvgMode=u;inBrowser&&!inMiniapp&&initWebComponents(a,e.attributes,s);return a}var WEB_COM_FIXED_LIST=["refresh","scroll-view","swiper","picker","frame","rich-text","image","switch","input","checkbox","checkbox-group","radio","radio-group","slider","textarea"];function initWebComponents(t,e,n){WEB_COM_FIXED_LIST.includes(t.t)&&global.api._initWebCmpt&&global.api._initWebCmpt(t.t,t,e,n)}function innerDiffNode(t,e,n,i,r,o,s){var a,u,f,c,h,l=t.childNodes,d=[],v={},m=0,p=0,g=l.length,y=0,b=e?e.length:0;if(0!==g)for(var w=0;w<g;w++){var T=l[w],C=T.__inattr_;if(null!=(E=b&&C?T._component?T._component.__key:C.key:null)){m++;v[E]=T}else(C||(void 0!==T.splitText?!r||T.nodeValue.trim():r))&&(d[y++]=T)}if(0!==b)for(w=0;w<b;w++){var E;if((h=null)!=(E=(c=e[w]).key)){if(m&&void 0!==v[E]){h=v[E];v[E]=void 0;m--}}else if(!h&&p<y)for(a=p;a<y;a++)if(void 0!==d[a]&&isSameNodeType(u=d[a],c,r)){h=u;d[a]=void 0;a===y-1&&y--;a===p&&p++;break}h=idiff(h,c,n,i,o,!1,s);f=l[w];h&&h!==t&&h!==f&&(null==f?t.appendChild(h):h===f.nextSibling?removeNode(f):t.insertBefore(h,f))}if(m)for(var w in v)void 0!==v[w]&&recollectNodeTree(v[w],!1);for(;p<=y;)void 0!==(h=d[y--])&&recollectNodeTree(h,!1)}function recollectNodeTree(t,e){var n=t._component;if(n)unmountComponent(n);else{null!=t.__inattr_&&applyRef(t.__inattr_.ref,null);!1!==e&&null!=t.__inattr_||removeNode(t);removeChildren(t)}}function removeChildren(t){t=t.lastChild;for(;t;){var e=t.previousSibling;recollectNodeTree(t,!0);t=e}}function diffAttributes(t,e,n){var i,r=[];for(i in n)if((!e||null==e[i])&&null!=n[i]){var o=n[i],s=n[i]=void 0;r.push({name:i,oldVal:o,newVal:s})}for(i in e)if(!("children"===i||"innerHTML"===i||i in n&&e[i]===("value"===i||"checked"===i?t[i]:n[i]))){o=n[i],s=n[i]=e[i];r.push({name:i,oldVal:o,newVal:s})}0<r.length&&setAttributes(t,r.sort(compare),isSvgMode)}var compare=function(t,e){var n=t.name,i=e.name;return n<i?1:i<n?-1:0};function render(t,e,n,i,r){"string"==typeof e&&(e=Document$1.querySelector(e));if(n)if(n.data)obsStore(n);else{options$1.isMultiStore=!0;for(var o in n)n[o].data&&obsStore(n[o],o)}if(i)for(;e.firstChild;)e.removeChild(e.firstChild);var s=diff(r=r&&("string"==typeof r?Document$1.querySelector(r):r),t,n,!1,e,!1,null);e===Document$1.body&&(Document$1.$rootvm=s._component);return s}function obsStore(o,t){o.instances=[];o.updateSelfInstances=[];extendStoreUpate(o,t);obaa(o.data,function(t,e,n,i){var r={};r[fixPath(i+"-"+t)]=!0;o.update(r)})}function merge$1(t,e,n){obsStore(n);return diff(e="string"==typeof e?Document$1.querySelector(e):e,t,n)}function extendStoreUpate(r,o){r.update=function(e){var n=this;if(!(Object.keys(e).length<=0)){var i=matchGlobalData(this.globalData,e);this.instances.forEach(function(t){compute(t,o);if(o){if(i||n.updateAll||t._updatePath&&t._updatePath[o]&&needUpdate(e,t._updatePath[o])){t.use&&getUse(r.data,("function"==typeof t.use?t.use():t.use)[o],t.using,o);t.update()}}else if(i||n.updateAll||t._updatePath&&needUpdate(e,t._updatePath)){t.use&&(t.using=getUse(r.data,"function"==typeof t.use?t.use():t.use));t.update()}});this.updateSelfInstances.forEach(function(t){compute(t,o);if(o){if(t._updateSelfPath&&t._updateSelfPath[o]&&needUpdate(e,t._updateSelfPath[o])){t.useSelf&&getUse(r.data,("function"==typeof t.useSelf?t.useSelf():t.useSelf)[o],t.usingSelf,o);t.updateSelf()}}else if(t._updateSelfPath&&needUpdate(e,t._updateSelfPath)){t.usingSelf=getUse(r.data,"function"==typeof t.useSelf?t.useSelf():t.useSelf);t.updateSelf()}});this.onChange&&this.onChange(e)}}}function matchGlobalData(t,e){if(!t)return!1;for(var n in e){if(~t.indexOf(n))return!0;for(var i=0,r=t.length;i<r;i++)if(includePath(n,t[i]))return!0}return!1}function compute(t,e){if(t.compute)for(var n in t.compute)t.computed[n]=t.compute[n].call(e?t.store:t.store.data)}function needUpdate(t,e){for(var n in t){if(e[n])return 1;for(var i in e)if(includePath(n,i))return 1}}function includePath(t,e){if(!t.indexOf(e)){var n=t.substr(e.length,1);if("["==n||"."==n)return 1}}function fixPath(t){var n="";t.replace("#-","").split("-").forEach(function(t,e){e?isNaN(+t)?n+="."+t:n+="["+t+"]":n+=t});return n}function _createCell(t,e,n){return this.$bindCell_?render(this.$bindCell_(t,e,n)):null}function _updateCell(t,e,n,i){return this.$bindCell_?render(this.$bindCell_(e,n,i),null,null,null,t):null}var RecyclerElement=function(n){_inheritsLoose(i,n);function i(t,e){return n.call(this,t,e)||this}i.$create=function(t,e){return new i(t,e)};return i}(Element);RecyclerElement.prototype._createCell=_createCell;RecyclerElement.prototype._updateCell=_updateCell;RecyclerElement.prototype[Symbol.toStringTag]="RecyclerElement";var EventTarget=function(){function t(){this.ref=nativeId();this.$events={};this.ownerDocument=Document$1}var e=t.prototype;e.on=function(t,e){if(!this.$events[t]){this.$events[t]=e;this.ownerDocument._addEvent(this.ref,t)}return this};e.off=function(t){if(this.$events[t]){delete this.$events[t];this.ownerDocument._removeEvent(this.ref,t)}};e.dispatchEvent=function(t){var e=this.$events[t.type];if(e)return e.call(t.target=this,t);else return null};e.save=function(){this.ownerDocument.$addObject(this)};e.dispose=function(){this.ownerDocument.destroy(this.ref)};return t}(),NativeObject=function(n){_inheritsLoose(t,n);function t(t){var e;(e=n.call(this)||this).type=t;e.$pipe=$NativePipe;return e}var e=t.prototype;e.create=function(t,e,n){this.$pipe.create(t,e,n)};e.get=function(t,e){return this.$pipe.get(t,e)};e.set=function(t,e){this.$pipe.set(t,e)};e.call=function(t,e,n,i){return this.$pipe.call(t,e,n,i)};e.listen=function(t,e,n){this.$pipe.listen(t,e,n)};e.callNative=function(t,e,n){return this.call(this.ref,t,e,n)};return t}(EventTarget),OPCODES={arc:1,arcTo:2,beginPath:3,bezierCurveTo:4,clearRect:5,closePath:6,fill:7,fillRect:8,fillStyle:9,fillText:10,lineCap:11,lineJoin:12,lineTo:13,lineWidth:14,moveTo:15,quadraticCurveTo:16,rect:17,restore:18,rotate:19,save:20,scale:21,setTransform:22,stroke:23,strokeRect:24,strokeStyle:25,strokeText:26,textAlign:27,textBaseline:28,transform:29,translate:30,font:31,drawImage:32},Graphics=function(n){_inheritsLoose(t,n);function t(t){var e;(e=n.call(this)||this)._operations=[];e._doubles=[];e._booleans=[];e._strings=[];e._ints=[];e.create(e.ref,"$graphics",t);return e}var e=t.prototype;e.init=function(t){this.callNative("init",t)};e.getImageData=function(t,e,n,i){var r=this.callNative("getImageData",{x:t,y:e,width:n,height:i});return r instanceof Uint8ClampedArray?r:new Uint8ClampedArray(r)};e.putImageData=function(t,e,n){this.callNative("putImageData",{data:t.data,width:t.width,height:t.height,x:e,y:n})};e.addOperation=function(t,e){if(inIOS)this._operations.push({name:t,arg:e});else{var n=OPCODES[t];if(!n)throw Error("Invalid operation");this._operations.push(n)}};e.addBoolean=function(){Array.prototype.push.apply(this._booleans,arguments)};e.addDouble=function(){Array.prototype.push.apply(this._doubles,arguments)};e.addInt=function(){Array.prototype.push.apply(this._ints,arguments)};e.addString=function(){Array.prototype.push.apply(this._strings,arguments)};e.flush=function(){if(0<this._operations.length){this.callNative("flush",inIOS?{actionlist:this._operations}:{actionlist:[this._operations,this._doubles,this._booleans,this._strings,this._ints]});this._operations=[];this._doubles=[];this._booleans=[];this._strings=[];this._ints=[]}};return t}(NativeObject),ImageData=function(t,e,n){if(arguments.length<2)throw new TypeError("Not enough arguments to ImageData");var i,r,o;if(t instanceof Uint8ClampedArray){i=checkArray(t);r=checkSize(e);o=2<arguments.length?checkSize(n):i.byteLength/4/r;if(i.byteLength!==r*o*4)throw Error("wrong array size")}else{r=checkSize(t);o=checkSize(e);i=new Uint8ClampedArray(r*o*4)}Object.defineProperties(this,{data:{value:i},width:{value:r},height:{value:o}})};Object.defineProperty(ImageData.prototype,"data",{value:null});Object.defineProperty(ImageData.prototype,"width",{value:0});Object.defineProperty(ImageData.prototype,"height",{value:0});ImageData.prototype[Symbol.toStringTag]="ImageData";function checkArray(t){if(t.byteLength%4!=0)throw Error("Illegal array length");return t}function checkSize(t){var e=Math.floor(t);if(e<=0||!isFinite(e))throw Error("Illegal size for ImageData");return e}var SUPPORTED_ENCODINGS=["ascii","utf-8"];function encodeCheck(t,e){if("string"!=typeof t)throw Error("Invalid text, must be a string");if(!SUPPORTED_ENCODINGS.includes(e))throw Error("Unsupported encoding: "+e)}function decodeCheck(t,e){if(!(t instanceof ArrayBuffer))throw Error("Invalid buffer type");if(!SUPPORTED_ENCODINGS.includes(e))throw Error("Unsupported encoding: "+e)}var TextCodec=function(e){_inheritsLoose(o,e);function o(){var t;(t=e.call(this)||this).save();t.create(t.ref,"$textcodec",{});return t}var t=o.prototype;t.decode=function(t,e){this.call(this.ref,"decode",{data:t,encoding:e})};t.decodeSync=function(t,e){return this.call(this.ref,"decode",{data:t,encoding:e})};t.encode=function(t,e){this.call(this.ref,"encode",{text:t,encoding:e})};t.encodeSync=function(t,e){return this.call(this.ref,"encodeSync",{text:t,encoding:e})};o.getInstance=function(){this._instance||Object.defineProperty(this,"_instance",{enumerable:!1,writable:!1,value:new o});return this._instance};o.decode=function(t,r){return new Promise(function(n,i){ArrayBuffer.isView(t)&&(t=t.buffer);decodeCheck(t,r=r||"utf-8");(new o).on("result",function(t){var e=t.target;n(t.string);e.dispose()}).on("error",function(t){var e=t.target;i(Error("Could not decode "+r));e.dispose()}).decode(t,r)})};o.decodeSync=function(t,e){ArrayBuffer.isView(t)&&(t=t.buffer);decodeCheck(t,e=e||"utf-8");return o.getInstance().decodeSync(t,e)};o.encode=function(t,r){return new Promise(function(n,i){encodeCheck(t,r=r||"utf-8");(new o).on("result",function(t){var e=t.target;n(t.data);e.dispose()}).on("error",function(t){var e=t.target;i(Error("Could not encode "+r));e.dispose()}).encode(t,r)})};o.encodeSync=function(t,e){encodeCheck(t,e=e||"utf-8");return o.getInstance().encodeSync(t,e)};return o}(NativeObject);TextCodec._instance=null;var bytesSym=Symbol("bytes");function getBytes(t){return t[bytesSym]}function setBytes(t,e){return t[bytesSym]=e}function createNativeCallback(t,e,n){return function(){try{t.apply(e||global,n||arguments)}catch(t){}}}var Blob=function(){function o(t,e){void 0===t&&(t=[]);void 0===e&&(e={});if(Object.getPrototypeOf(t)!==Array.prototype)throw new TypeError("Argument 1 of Blob.constructor can't be converted to a sequence.");if(Object.getPrototypeOf(e)!==Object.prototype)throw new TypeError("Argument 2 of Blob.constructor can't be converted to a dictionary.");setBytes(this,join(t));Object.defineProperty(this,"type",{value:"type"in e?e.type+"":""})}var t=o.prototype;t.slice=function(t,e,n){var i=getBytes(this);i=i.slice(t||0,e||i.byteLength);var r=new o([],{type:n=n||this.type});setBytes(r,i);return r};t.arrayBuffer=function(){return Promise.resolve(getBytes(this).slice(0))};t.text=function(){return Promise.resolve(TextCodec.decode(getBytes(this)))};_createClass(o,[{key:"size",get:function(){return getBytes(this).byteLength}}]);return o}();Object.defineProperty(Blob.prototype,"type",{value:""});Blob.prototype[Symbol.toStringTag]="Blob";function join(t){for(var e=0,n=[],i=0;i<t.length;i++){n[i]=partToChunk(t[i]);e+=n[i].byteLength}var r=new Uint8Array(e),o=0;for(i=0;i<n.length;i++){r.set(n[i],o);o+=n[i].byteLength}return r.buffer}function partToChunk(t){return t instanceof ArrayBuffer?new Uint8Array(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer):t instanceof Blob?new Uint8Array(getBytes(t)):new Uint8Array(TextCodec.encodeSync(t+""))}function _create(e){var t=getOptions(arguments);if(e instanceof Blob)return load(t,function(t){return t.loadEncodedImage(getBytes(e))});if(e instanceof ImageData)return load(t,function(t){return t.loadImageData(e.data,e.width,e.height)});if(e instanceof ImageBitmap)return e.source.isDestroyed()?Promise.reject(new TypeError("Can not create ImageBitmap from another closed ImageBitmap")):load(t,function(t){return t.loadImageBitmap(e)});if(e instanceof CanvasElement)return e.isDestroyed()?Promise.reject(new TypeError("Can not create ImageBitmap from a destroyd Canvas")):load(t,function(t){return t.loadCanvas(e)});throw new TypeError("Argument 1 of createImageBitmap could not be converted to any of: Blob, ImageData, ImageBitmap, Canvas.")}Object.assign(global,{createImageBitmap:_create});var ImageBitmap=function(){t.createImageBitmap=function(t){return _create(t)};function t(t,e){if(!(t instanceof _ImageBitmap))throw new TypeError("ImageBitmap Illegal constructor");this.ref=t.ref;this.source=t;Object.defineProperty(this,"width",{value:e.width});Object.defineProperty(this,"height",{value:e.height})}t.prototype.close=function(){this.source.isDestroyed()||this.source.destroy()};return t}();Object.defineProperty(ImageBitmap.prototype,"width",{value:0});Object.defineProperty(ImageBitmap.prototype,"height",{value:0});ImageBitmap.prototype[Symbol.toStringTag]="ImageBitmap";var _ImageBitmap=function(n){_inheritsLoose(t,n);function t(t){var e;(e=n.call(this)||this).create(e.ref,"$imagebitmap",t);return e}var e=t.prototype;e.loadEncodedImage=function(n){var i=this;return new Promise(function(t,e){return i.callNative("loadEncodedImage",{image:n,onSuccess:t,onError:e})})};e.loadImageData=function(n,i,r){var o=this;return new Promise(function(t,e){return o.callNative("loadImageData",{image:n,width:i,height:r,onSuccess:t,onError:e})})};e.loadImageBitmap=function(n){var i=this;return new Promise(function(t,e){return i.callNative("loadImageBitmap",{image:n.ref,onSuccess:t,onError:e})})};e.loadCanvas=function(n){var i=this;return new Promise(function(t,e){n._context&&n._context._graphics.flush();i.callNative("loadCanvas",{image:n.ref,onSuccess:t,onError:e})})};return t}(NativeObject);function getOptions(t){if(!~[1,2,5,6].indexOf(t.length))throw new TypeError(t.length+" is not a valid argument count for any overload of createImageBitmap.");var e={};if(2===t.length&&null!=t[1]){if(!(t[1]instanceof Object))throw new TypeError("Argument 2 of createImageBitmap is not an object.");Object.assign(e,t[1])}else if(5<=t.length){if(6===t.length&&null!=t[5]&&!(t[5]instanceof Object))throw new TypeError("Argument 6 of createImageBitmap is not an object.");e.rect={sx:t[1],sy:t[2],sw:t[3],sh:t[4]};Object.assign(e,t[5]||{})}return e}function load(t,e){var n=new _ImageBitmap(t);return e(n).then(function(t){var e=new ImageBitmap(n,t);Object.defineProperty(e,"wrapper",{value:e});return e}).catch(function(t){n.dispose();throw Error(t)})}var CanvasContext=function(){function t(t){this.ref=t.ref;this._graphics=t;this._state=createState();this._savedStates=[];this.canvas={width:0,height:0,style:{}};for(var e in properties)defineProperty(this,e)}var e=t.prototype;e._init=function(t,e){this.canvas.width=t;this.canvas.height=e;this._graphics.init({width:t,height:e})};e.measureText=function(t){return{width:5*t.length+5}};e.getImageData=function(t,e,n,i){this._graphics.flush();var r=this._graphics.getImageData(t,e,n,i);return new ImageData(r,n,i)};e.putImageData=function(t,e,n){this._graphics.flush();this._graphics.putImageData(t,e,n)};e.createImageData=function(t,e){if(t instanceof ImageData){var n=t;t=n.width;e=n.height}return new ImageData(t,e)};e.flush=function(){this._graphics.flush()};e.destroy=function(){this._graphics.dispose()};return t}();CanvasContext.getContext=function(t){if(!t._graphics){var e=new Graphics({parent:t.ref});t._graphics=e}if(!t._context){t._context=new CanvasContext(t._graphics);t._context._init(t.width,t.height)}return t._context};CanvasContext.prototype[Symbol.toStringTag]="CanvasRenderingContext2D";defineMethod("save",function(){this._savedStates.push(Object.assign({},this._state))});defineMethod("restore",function(){this._state=this._savedStates.pop()||this._state});defineMethod("beginPath");defineMethod("closePath");defineMethod("lineTo",function(t,e){this._graphics.addDouble(t,e)});defineMethod("moveTo",function(t,e){this._graphics.addDouble(t,e)});defineMethod("bezierCurveTo",function(t,e,n,i,r,o){this._graphics.addDouble(t,e,n,i,r,o)});defineMethod("quadraticCurveTo",function(t,e,n,i){this._graphics.addDouble(t,e,n,i)});defineMethod("rect",function(t,e,n,i){this._graphics.addDouble(t,e,n,i)});defineMethod("arc",function(t,e,n,i,r,o){this._graphics.addDouble(t,e,n,i,r);this._graphics.addBoolean(!!o)});defineMethod("arcTo",function(t,e,n,i,r){this._graphics.addDouble(t,e,n,i,r)});defineMethod("scale",function(t,e){this._graphics.addDouble(t,e)});defineMethod("rotate",function(t){this._graphics.addDouble(t)});defineMethod("translate",function(t,e){this._graphics.addDouble(t,e)});defineMethod("transform",function(t,e,n,i,r,o){this._graphics.addDouble(t,e,n,i,r,o)});defineMethod("setTransform",function(t,e,n,i,r,o){this._graphics.addDouble(t,e,n,i,r,o)});defineMethod("clearRect",function(t,e,n,i){this._graphics.addDouble(t,e,n,i)});defineMethod("fillRect",function(t,e,n,i){this._graphics.addDouble(t,e,n,i)});defineMethod("strokeRect",function(t,e,n,i){this._graphics.addDouble(t,e,n,i)});defineMethod("fillText",function(t,e,n){this._graphics.addString(t);this._graphics.addBoolean(!1,!1,!1);this._graphics.addDouble(e,n)});defineMethod("strokeText",function(t,e,n){this._graphics.addString(t);this._graphics.addBoolean(!1,!1,!1);this._graphics.addDouble(e,n)});defineMethod("fill");defineMethod("stroke");defineMethod("drawImage",function(t,e,n,i,r,o,s,a,u){if(!(t.ref||t instanceof ImageBitmap))throw new TypeError("First argument of CanvasContext.drawImage must be of type ImageBitmap or ImageElement.");this._graphics.addString(t.ref);if(9===arguments.length)this._graphics.addDouble(e,n,i,r,o,s,a,u);else if(5===arguments.length)this._graphics.addDouble(0,0,t.width,t.height,e,n,i,r);else{if(3!==arguments.length)throw new TypeError(arguments.length+" is not a valid argument count for any overload of Canvas.drawImage.");this._graphics.addDouble(0,0,t.width,t.height,e,n,t.width,t.height)}});var properties={lineWidth:{init:1,encode:function(t){if(!isNaN(t)&&0<t)return t;throw Error("Invalid value "+t)},decode:passThrough,addOperations:function(t){this._graphics.addDouble(t)}},lineCap:{init:"butt",values:toObject(["butt","round","square"]),encode:checkValue,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},lineJoin:{init:"miter",values:toObject(["bevel","miter","round"]),encode:checkValue,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},fillStyle:{init:"#000",encode:passThrough,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},strokeStyle:{init:"#000",encode:passThrough,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},textAlign:{init:"start",values:toObject(["start","end","left","right","center"]),encode:checkValue,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},textBaseline:{init:"alphabetic",values:toObject(["top","hanging","middle","alphabetic","ideographic","bottom"]),encode:checkValue,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}},font:{init:"normal 12px normal sans-serif",encode:passThrough,decode:passThrough,addOperations:function(t){this._graphics.addString(t)}}};function passThrough(t){return t}function checkValue(t){if(t in this.values)return t;throw Error("Invalid value "+t)}function toObject(t){var e={};t.forEach(function(t){e[t]=!0});return e}function createState(){var t={};for(var e in properties)t[e]=properties[e].init;return t}function defineMethod(t,e){CanvasContext.prototype[t]=inIOS?function(){this._graphics.addOperation(t,Array.prototype.slice.call(arguments))}:function(){this._graphics.addOperation(t);e&&e.apply(this,arguments)}}function defineProperty(t,n){var i=properties[n];Object.defineProperty(t,n,{get:function(){return i.decode(t._state[n])},set:function(e){try{t._state[n]=i.encode(e);if(inIOS){t._graphics.addOperation(n,[t._state[n]]);return}t._graphics.addOperation(n);i.addOperations.call(t,t._state[n])}catch(t){warn("Unsupported value for "+n+": "+e)}}})}var MIME_TYPES={"image/png":"image/png","image/jpeg":"image/jpeg","image/webp":"image/webp"},TYPE_QUALITY={"image/png":1,"image/jpeg":.92,"image/webp":.8},CanvasElement=function(i){_inheritsLoose(n,i);function n(t,e){var n;(n=i.call(this,t,e)||this)._canvasw=300;n._canvash=150;return n}n.$create=function(t,e){return new n(t,e)};var t=n.prototype;t.getContext=function(t,e){void 0===e&&(e={});return"2d"===t||"webgl"===t||"webgl2"===t?CanvasContext.getContext(this,e):null};t.flush=function(){this._context&&this._context.flush()};t.createImage=function(){};t.createImageData=function(t,e){if(t instanceof ImageData){var n=t;t=n.width;e=n.height}return this._context.createImageData(t,e)};t.toDataURL=function(t,e){this._context&&this._context.flush();var n=MIME_TYPES["string"==typeof t?t:""]||MIME_TYPES["image/png"];return this.callNative("toDataURL",{mimeType:n,quality:"number"==typeof e&&!isNaN(e)&&0<=e&&e<=1?e:TYPE_QUALITY[n]})};t.toBlob=function(i,t,e){if(0===arguments.length)throw new TypeError("Canvas.toBlob requires at least 1 argument, but only 0 were passed");if(!(i instanceof Function))throw new TypeError("Argument 1 of Canvas.toBlob is not a function");this._context&&this._context.flush();var n="number"==typeof e&&!isNaN(e)&&0<=e&&e<=1,r=MIME_TYPES["string"==typeof t?t:""]||MIME_TYPES["image/png"];this.callNative("toBlob",{onSuccess:createNativeCallback(function(t,e){if(t){var n=new Blob([],{type:e});setBytes(n,t);i(n)}else i(null)}),mimeType:r,quality:n?e:TYPE_QUALITY[r]})};t.destroy=function(){i.prototype.destroy.call(this);this._context&&this._context.destroy()};_createClass(n,[{key:"width",get:function(){var t=this.getter("canvasw");t&&(this._canvasw=t);return this._canvasw},set:function(t){if(this._canvasw!=t){this._canvasw=t;this.setter("canvasw",t)}}},{key:"height",get:function(){var t=this.getter("canvash");t&&(this._canvash=t);return this._canvash},set:function(t){if(this._canvash!=t){this._canvash=t;this.setter("canvash",t)}}}]);return n}(Element);CanvasElement.prototype[Symbol.toStringTag]="CanvasElement";var ImageElement=function(n){_inheritsLoose(i,n);function i(t,e){return n.call(this,t,e)||this}i.$create=function(t,e){return new i(t,e)};_createClass(i,[{key:"width",get:function(){return this.getter("width")},set:function(t){this.setter("width",t)}},{key:"height",get:function(){return this.getter("height")},set:function(t){this.setter("height",t)}}]);return i}(Element);ImageElement.prototype[Symbol.toStringTag]="ImageElement";var SUPPORT_TAGS={view:{tag:"div"},text:{tag:"span"},image:{tag:"img"},"list-view":{tag:"ul"},cell:{tag:"li"},"list-header":{tag:"div"},"list-footer":{tag:"div"},refresh:{tag:"div"},frame:{tag:"iframe"},"safe-area":{tag:"div"},"scroll-view":{tag:"div",mini:"scroll-view"},swiper:{tag:"div",mini:"swiper"},"swiper-item":{tag:"div",mini:"swiper-item"},switch:{tag:"input",type:"checkbox",mini:"switch"},slider:{tag:"input",type:"range",mini:"slider"},checkbox:{tag:"input",type:"checkbox"},"checkbox-group":{tag:"div"},radio:{tag:"input",type:"radio"},"radio-group":{tag:"div"}},RECYCLERS_CELLS={cell:!0,"swiper-item":!0};function isCell(t){return RECYCLERS_CELLS[t]}function tagMaps(t){var e=SUPPORT_TAGS[t];return inMiniapp&&e&&e.mini?{tag:e.mini}:e||{tag:t}}var WebDocument=function(){function t(){}t.newDefault=function(){return new t};var e=t.prototype;e.createElementNS=function(t,e,n){return this.createElement(e,n)};e.createElement=function(t){var e=tagMaps(t),n=document.createElement(e.tag);e.type&&(n.type=e.type);return n};e.createTextNode=function(t){return document.createTextNode(t)};e.getElementById=function(t){return document.getElementById(t)};e.getElementsByTagName=function(t){var e=t;e=tagMaps(e);return document.getElementsByTagName(e)};e.getElementsByClassName=function(t){return document.getElementsByClassName(t)};e.querySelector=function(t){return document.querySelector(t)};e.querySelectorAll=function(t){return document.querySelectorAll(t)};e.dispatchEvent=function(){};e._createStyle=function(t,e){if(e){e=e.toLowerCase();var n=this.getElementById(e);n&&n.parentNode===this.head&&this.head.removeChild(n)}var i=this.createElement("style");this.head.appendChild(i);i.setAttribute("type","text/css");e&&i.setAttribute("id",e);"object"==typeof t&&(t=convertToCss(t));i.textContent=t};e._createLink=function(t){var e=this.createElement("link");e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.href=t;this.head.appendChild(e)};e._addElement=function(){};e._removeElement=function(){};e._moveElement=function(){};e._setStyles=function(){};e._setAttr=function(){};e._removeAttr=function(){};e._addEvent=function(){};e._removeEvent=function(){};e._contentLoaded=function(){};e._addKeyframe=function(){};e._addKeyframeMap=function(){};e._scrollTo=function(){};e._getComputedStyle=function(){};_createClass(t,[{key:"body",get:function(){return document.body}},{key:"head",get:function(){return document.head}},{key:"location",get:function(){return document.location},set:function(t){document.location=t}}]);return t}(),JS_TO_CSS={};function convertToCss(t){var e="";for(var n in t){var i=t[n];if(i){e+=n+" {";for(var r in i){e+=JS_TO_CSS[r]||(JS_TO_CSS[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase());e+=": ";e+=i[r];e+=";"}e+="}"}}return e||void 0}var EXTEND_MAP={image:ImageElement,img:ImageElement,"list-view":RecyclerElement,"grid-view":RecyclerElement,swiper:RecyclerElement,canvas:CanvasElement},Document=function(){function t(){this.nodeType=9;this.keyframes={};this._selectors=new QuerySelectors(this);this._readyState=0;this._head=null;this._body=null;this._location=null;this._nodeMap={};this.childNodes=[];this.$rootvm=null;this.$client=$NativePipe;this.webDocument=new WebDocument}t.newDefault=function(){return new t};var e=t.prototype;e.createElementNS=function(t,e,n){return inBrowser?this.webDocument.createElementNS(t,e):this.createElement(e,n)};e.createElement=function(t,e){var n;if(inBrowser)return this.webDocument.createElement(t);n=(EXTEND_MAP[t]||Element).$create(t,this);this.$client.create(n.ref,t,e||{});return n};e.createTextNode=function(t){return inBrowser?this.webDocument.createTextNode(t):new TextNode(t,this)};e.getElementById=function(t){return inBrowser?this.webDocument.getElementById(t):this._selectors.byId(t)};e.getElementsByTagName=function(t){return inBrowser?this.webDocument.getElementsByTagName(t):this._selectors.byTagName(t)};e.getElementsByClassName=function(t){return inBrowser?this.webDocument.getElementsByClassName(t):this._selectors.byClassName(t)};e.querySelector=function(t){return"body"===t?inBrowser?this.webDocument.body:this.body:inBrowser?this.webDocument.querySelector(t):this._selectors.selector(t)};e.querySelectorAll=function(t){return"body"===t?inBrowser?[this.webDocument.body]:[this.body]:inBrowser?this.webDocument.querySelectorAll(t):this._selectors.selectorAll(t)};e.createEvent=function(){};e.dispatchEvent=function(t,e,n){if(arguments.length<1)throw Error("Not enough arguments to dispatchEvent");(n=n||{}).type||(n.type=e);if(t){var i=this.$getObject(t);return i?i.dispatchEvent(n):null}if(this.$rootvm){var r=this.$rootvm,o=r[e];if(o)return o.call(r,n)||!0}};e.destroy=function(t){t&&this.$removeObject(t);this.$client.destroy(t=t||-1)};e._createCell=function(t,e,n,i){if(arguments.length<1)throw Error("Not enough arguments to _createCell");if(t){var r=this.$getObject(t);if(r&&r._createCell){var o=r._createCell(e,n,i);if(o){this._registerNode(o);return o.ref}}}throw Error("Not found jsId to _createCell or cur element is unsupport _createCell.")};e._updateCell=function(t,e,n,i,r){if(arguments.length<2)throw Error("Not enough arguments to _updateCell.");if(t&&e){var o=this.$getObject(t),s=this.$getObject(e);if(o&&o._updateCell&&s){var a=o._updateCell(s,n,i,r);return a?a.ref:null}}throw Error("Not found jsId to _updateCell or cur element is unsupport _updateCell.")};e._createStyle=function(t,e){if(!inBrowser){if(e){e=e.toLowerCase();var n=this.getElementById(e),i=this.head;n&&n.parentNode===i&&i.removeChild(n)}var r=new Element("style",this);this.head.appendChild(r);e&&r.setAttribute("id",e,!0);var o={textContent:r.textContent=t};e&&(o.scopeId=e);this.$client.create(r.ref,"style",o);return r}this.webDocument._createStyle(t,e)};e._createLink=function(t){if(!inBrowser){var e=new Element("style",this);this.head.appendChild(e);var n={href:e.href=t};this.$client.create(e.ref,"style",n);return e}this.webDocument._createLink(t)};e._addElement=function(t,e,n,i){this._registerNode(n);var r={parent:e,index:i};isCell(n.nodeName)&&(r.elements=n.toJSON());this.$client.set(t,r);if(e===this.body.ref&&3!=this._readyState){this._readyState=3;this._contentLoaded(n)}};e._moveElement=function(t,e,n){this.$client.set(t,{zIndex:n})};e._removeElement=function(t,e){this._unregisterNode(e);this.$client.set(t,{parent:"$remove"})};e._setStyles=function(t,e){this.$client.set(t,{style:e||{}})};e._setAttr=function(t,e){this.$client.set(t,e||{})};e._removeAttr=function(){};e._addEvent=function(t,e){this.$client.listen(t,e,!0)};e._removeEvent=function(t,e){this.$client.listen(t,e,!1)};e._contentLoaded=function(){this.$client.contentLoaded({})};e._callMethod=function(t,e,n,i){if(!t)return null;var r;return(r="string"==typeof t?this.getElementById(t):t)?this.$client.call(r.ref,e,n,i):void 0};e._get=function(t,e){var n;if(n="string"==typeof t?this.getElementById(t):t)return this.$client.get(n.ref,e)};e._addKeyframe=function(t,e){var n={amin:e=e||{}};this.$client.set(t=t||-1,n)};e._addKeyframeMap=function(t,e){var n={amin:e=e||{}};this.$client.set(t=t||-1,n)};e._scrollTo=function(){};e._getComputedStyle=function(){};e._registerNode=function(t){this.$addObject(t);this.childNodes.push(t)};e._unregisterNode=function(t){var e=this;domWalk(t,function(t){e.$removeObject(t);e.childNodes.remove(t)})};e.$addObject=function(t){this._nodeMap[t.ref]=t};e.$getObject=function(t){return this._nodeMap[t]};e.$removeObject=function(t){delete this._nodeMap[t.ref?t.ref:t]};_createClass(t,[{key:"head",get:function(){if(inBrowser)return this.webDocument.head;if(!this._head){this._head=new HTMLHeadElement(this);this._registerNode(this._head)}return this._head}},{key:"body",get:function(){if(inBrowser)return this.webDocument.body;if(!this._body){this._body=new HTMLBodyElement(this);this._registerNode(this._body);this.$client.create(this._body.ref,"body",{})}return this._body}},{key:"location",get:function(){if(inBrowser)return this.webDocument.location;this._location||(this._location={href:""});return this._location},set:function(t){inBrowser?this.webDocument.location=t:this._location=t}}]);return t}(),Document$1=Document.newDefault(),Apivm=function(){function t(){this._started=!1}var e=t.prototype;e.$_dispatchGlobalEvent=function(t,e){var n=global[t];if(n){return n.call(Document$1.$rootvm,e)||!0}return!1};e.$_notify=function(t,e,n){if(!t){var i=this.$_dispatchGlobalEvent(e,n);if(i)return i}return Document$1.dispatchEvent(t,e,n)};e.$_createCell=function(t,e,n,i){return t?Document$1._createCell(t,e,n,i):null};e.$_updateCell=function(t,e,n,i,r){return t?Document$1._updateCell(t,e,n,i,r):null};e.$_flush=function(){};_createClass(t,[{key:"version",get:function(){return"3.0.0"}},{key:"started",get:function(){return this._started}}]);return t}(),vm=new Apivm;vm.$_start=function(){this._started=!0;return this.$_notify("","apiready","")};var stack=[];function h(t,e){var n,i,r,o,s=[];for(o=arguments.length;2<o--;)stack.push(arguments[o]);if(e&&null!=e.children){stack.length||stack.push(e.children);delete e.children}for(;stack.length;)if((i=stack.pop())&&void 0!==i.pop)for(o=i.length;o--;)stack.push(i[o]);else{"boolean"==typeof i&&(i=null);(r="function"!=typeof t)&&(null==i?i="":"number"==typeof i?i+="":"string"!=typeof i&&(r=!1));r&&n?s[s.length-1]+=i:0===s.length?s=[i]:s.push(i);n=r}var a=new VNode(t,s,e);a.key=null==e?void 0:e.key;void 0!==options$1.vnode&&options$1.vnode(a);return a}function tag(e){return function(t){define(e,t)}}var hasOwn={}.hasOwnProperty;function classNames(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"==i||"number"==i)t.push(n);else if(Array.isArray(n)&&n.length){var r=classNames.apply(null,n);r&&t.push(r)}else if("object"==i)for(var o in n)hasOwn.call(n,o)&&n[o]&&t.push(o)}}return t.join(" ")}function extractClass(){var t=Array.prototype.slice.call(arguments,0),e=t[0],n=t.slice(1);if(e)if(e.class){n.unshift(e.class);delete e.class}else if(e.className){n.unshift(e.className);delete e.className}if(0<n.length)return{class:classNames.apply(null,n)}}function getHost(t){return t._host}function getRoot(t){if(t){var e=t._host;if(e)for(;e._host;)e=e._host;return e}}function extendDocument(t){void 0===t.document&&(t.document=Document$1)}var Timer=function(n){_inheritsLoose(t,n);function t(t){var e;(e=n.call(this)||this).ref=t.ref;e.save();e.create(e.ref,"$timer",t);return e}var e=t.prototype;e.cancel=function(){this.call(this.ref,"cancel",{})};e.start=function(){this.call(this.ref,"start",{})};return t}(NativeObject);function extendWindowTimer(s){if("function"!=typeof s.setTimeout){var t=0,a={};s.setTimeout=function(t,e){if(arguments.length<1)throw new TypeError("Not enough arguments to setTimeout");if("function"!=typeof t)throw new TypeError("Illegal argument to setTimeout: not a function");var n=Array.prototype.slice.call(arguments,2);return i(t,adjustDelay(e),!1,n)};s.setInterval=function(t,e){if(arguments.length<1)throw new TypeError("Not enough arguments to setInterval");if("function"!=typeof t)throw new TypeError("Illegal argument to setInterval: not a function");var n=Array.prototype.slice.call(arguments,2);return i(t,adjustDelay(e),!0,n)};s.clearTimeout=s.clearInterval=function(t){var e=a[t];if(e){e.cancel();e.dispose();delete a[t]}}}function i(e,n,i,r){var o="t"+t++;!function(){var t=new Timer({delay:n,repeat:i,ref:o});t.on("run",function(){e.apply(s,r);if(!i){t.dispose();delete a[o]}});(a[o]=t).start()}();return o}}function adjustDelay(t){return"number"==typeof t&&isFinite(t)?Math.max(0,Math.round(t)):0}global.api$__vm&&global;var $document=Document$1,$=$document.querySelector.bind($document),vm$1=Object.assign(vm,{h:h,_H:h,createElement:h,Component:Component,render:render,rerender:rerender,options:options$1,define:define,classNames:classNames,extractClass:extractClass,getHost:getHost,getRoot:getRoot,tag:tag,merge:merge$1,$document:$document,$:$,Fragment:Fragment,f:Fragment});Object.assign(global,{h:h,_H:h,createElement:h,Component:Component,render:render,define:define,classNames:classNames,extractClass:extractClass,getHost:getHost,getRoot:getRoot,tag:tag,merge:merge$1,options:options$1,$document:$document,$:$,Fragment:Fragment,f:Fragment});global.avm=global.apivm=global.api$__vm=vm$1;extendDocument(global);extendWindowTimer(global);return vm$1}();
//# sourceMappingURL=dist/ios/avm.min.js.map